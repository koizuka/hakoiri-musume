name: Cleanup PR Preview

on:
  pull_request:
    types: [closed]

permissions:
  contents: write

# Use shared concurrency group for all deployments
concurrency:
  group: "github-pages-deployment"
  cancel-in-progress: false

jobs:
  cleanup:
    name: Remove PR Preview
    runs-on: ubuntu-latest
    steps:
      - name: Cleanup PR Preview
        uses: koizuka/pr-preview-action@e7366d355cc0c6a1b7d96965f1d3c82a82287297 # v1.0.0
        with:
          action: cleanup
          base-url: https://koizuka.github.io/hakoiri-musume
          token: ${{ secrets.GITHUB_TOKEN }}